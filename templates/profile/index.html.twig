{% extends 'base.html.twig' %}

{% block title %}My Profile{% endblock %}

{% block stylesheets %}
    {{ parent() }}
    <style>
        .profile-container { max-width: 1200px; margin: 3rem auto; padding: 0 2rem; }
        .profile-header { background: white; padding: 2rem; border-radius: 16px; box-shadow: 0 4px 20px rgba(0,0,0,0.1); margin-bottom: 2rem; text-align: center; }
        .profile-avatar { width: 120px; height: 120px; border-radius: 50%; background: linear-gradient(135deg,#667eea 0%,#764ba2 100%); display: flex; align-items: center; justify-content: center; font-size: 3rem; color: white; margin: 0 auto 1rem; font-weight: bold; }
        .profile-name { font-size: 2rem; font-weight: bold; margin-bottom: 0.5rem; color: #000; }
        .profile-email { color: #666; font-size: 1.1rem; }
        .coins-display { background: linear-gradient(135deg, #ffd700, #ffed4e); padding: 2rem; border-radius: 16px; text-align: center; margin: 2rem 0; box-shadow: 0 4px 20px rgba(255,215,0,0.2); }
        .coins-amount { font-size: 3rem; font-weight: bold; display: flex; align-items: center; justify-content: center; gap: 1rem; }
        .coins-label { font-size: 1.2rem; color: #555; margin-top: 0.5rem; }
        .profile-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px,1fr)); gap: 1.5rem; margin-top: 2rem; }
        .profile-card { background: white; padding: 2rem; border-radius: 16px; box-shadow: 0 4px 20px rgba(0,0,0,0.1); }
        .profile-card h2 { font-size: 1.5rem; margin-bottom: 1.5rem; color: #000; display: flex; align-items: center; gap: 0.5rem; }
        .info-row { display: flex; justify-content: space-between; padding: 1rem 0; border-bottom: 1px solid #eee; }
        .info-row:last-child { border-bottom: none; }
        .info-label { font-weight: 600; color: #555; }
        .info-value { color: #000; }
        .btn-action { flex: 1; padding: 1rem; background: #000; color: white; border: none; border-radius: 8px; font-size: 1rem; font-weight: 600; cursor: pointer; text-align: center; text-decoration: none; transition: all 0.3s; }
        .btn-action:hover { background: #333; transform: translateY(-2px); }
    </style>
{% endblock %}

{% block body %}
{% if app.user %}
    <div class="profile-container">
        <div class="profile-header">
            <div class="profile-avatar">
                {{ app.user.firstName|slice(0,1)|upper }}{{ app.user.lastName|slice(0,1)|upper }}
            </div>
            <div class="profile-name">{{ app.user.firstName }} {{ app.user.lastName }}</div>
            <div class="profile-email">{{ app.user.email }}</div>
        </div>

        <div class="coins-display">
            <div class="coins-amount">ðŸª™ {{ app.user.coins }}</div>
            <div class="coins-label">Available Coins</div>
        </div>

        <div class="profile-grid">
            <div class="profile-card">
                <h2>ðŸ“‹ Personal Information</h2>
                <div class="info-row"><span class="info-label">First Name:</span><span class="info-value">{{ app.user.firstName }}</span></div>
                <div class="info-row"><span class="info-label">Last Name:</span><span class="info-value">{{ app.user.lastName }}</span></div>
                <div class="info-row"><span class="info-label">Email:</span><span class="info-value">{{ app.user.email }}</span></div>
                <div class="info-row"><span class="info-label">Phone:</span><span class="info-value">{{ app.user.phone ?? 'Not provided' }}</span></div>
                <div class="info-row"><span class="info-label">Member Since:</span><span class="info-value">{{ app.user.createdAt ? app.user.createdAt|date('F d, Y') : 'N/A' }}</span></div>
                <a href="{{ path('app_profile_edit') }}" class="btn-action">Edit Profile</a>
            </div>
        </div>
    </div>
{% else %}
    <p style="text-align:center;margin-top:2rem;">You need to <a href="{{ path('app_login') }}">log in</a> to view your profile.</p>
{% endif %}
{% endblock %}
