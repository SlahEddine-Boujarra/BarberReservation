<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>{% block title %}Fresha{% endblock %}</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    {% block stylesheets %}
    <style>
        /* --- 1. Global Reset & Typography --- */
        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            /* Cleaner, softer background gradient */
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%); /* Light Grey/Blue Soft Gradient */
            min-height: 100vh;
            color: #333; /* Darker text for readability */
        }

        /* --- 2. Navbar Refinement --- */
        .navbar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1.2rem 3rem; /* More padding */
            background: #ffffff; /* Solid White for maximum contrast */
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08); /* Softer, wider shadow */
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .logo {
            font-size: 1.6rem;
            font-weight: 700; /* Bolder logo */
            color: #007bff; /* Primary brand color (Blue) */
            text-decoration: none;
            letter-spacing: -0.5px;
        }

        .nav-buttons {
            display: flex;
            gap: 1.2rem; /* Increased gap */
            align-items: center;
        }
        
        /* --- 3. Button Styling Refinement --- */
        .btn {
            padding: 0.7rem 1.6rem;
            border: 1px solid transparent; /* Consistent border for all */
            border-radius: 6px; /* Slightly less aggressive rounding */
            cursor: pointer;
            font-size: 0.9rem;
            font-weight: 600; /* Semi-bold text */
            text-decoration: none;
            transition: all 0.2s cubic-bezier(0.165, 0.84, 0.44, 1); /* Smoother transition */
        }

        /* Primary Button (Profile) - Solid Brand Color */
        .btn-profile {
            background: #007bff; 
            color: white;
            box-shadow: 0 4px 6px rgba(0, 123, 255, 0.3);
        }

        .btn-profile:hover {
            background: #0056b3; 
            box-shadow: 0 6px 10px rgba(0, 123, 255, 0.4);
        }

        /* Secondary/Outline Button (Login/Logout) */
        .btn-login {
            background: transparent;
            color: #007bff; 
            border: 1px solid #007bff;
        }

        .btn-login:hover {
            background: #e9f5ff; /* Light blue background on hover */
            color: #007bff;
        }
        
        /* Outline Button (Register/List Business) */
        .btn-business {
            background: transparent;
            color: #555; /* Dark gray for a neutral look */
            border: 1px solid #ddd;
        }

        .btn-business:hover {
            background: #f8f8f8;
            border-color: #aaa;
        }

        /* User Welcome Text */
        .nav-buttons > span {
            color: #555;
            font-size: 0.95rem;
        }

        /* --- 4. Badges and Flash Messages --- */
        .coins-badge {
            /* Updated gold to be cleaner */
            background: linear-gradient(45deg, #ffc107, #ffecb3); /* Brighter, modern gold */
            color: #856404; /* Dark gold text */
            padding: 0.35rem 0.9rem;
            border-radius: 20px;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 0.4rem;
            box-shadow: 0 2px 4px rgba(255, 193, 7, 0.4);
        }
        
        .flash-messages {
            max-width: 1000px; /* Slightly narrower content area */
            margin: 1.5rem auto;
            padding: 0 2rem;
        }

        .flash-messages div {
             /* Added subtle shadow and thicker border for messages */
            padding: 1rem 1.5rem; 
            border-radius: 8px; 
            margin-bottom: 1rem;
            font-weight: 500;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        .flash-messages .success {
            background: #e6ffed; 
            color: #0a7e36; 
            border: 2px solid #a3e6b4; 
        }

        .flash-messages .error {
            background: #ffebe9; 
            color: #b7393d; 
            border: 2px solid #ffb3b0; 
        }

        .flash-messages .info {
            background: #e9f5ff; 
            color: #007bff; 
            border: 2px solid #b3d7ff; 
        }

    </style>
    {% endblock %}
</head>
<body>
<nav class="navbar">
    <a href="{{ path('app_home') }}" class="logo">Fresha</a>
    <div class="nav-buttons">
        {% if app.user %}
            <span>Welcome, {{ app.user.firstName }}!</span>
            <a href="{{ path('app_coins_shop') }}" class="coins-badge">âœ¨ {{ app.user.coins }} Coins</a>
            <a href="{{ path('app_profile') }}" class="btn btn-profile">Profile</a>
            <a href="{{ path('app_logout') }}" class="btn btn-login">Logout</a>
        {% else %}
            <a href="{{ path('app_login') }}" class="btn btn-login">Log In</a>
            <a href="{{ path('app_register') }}" class="btn btn-business">Register</a>
        {% endif %}
    </div>
</nav>

    {% for label, messages in app.flashes %}
        <div class="flash-messages">
            {% for message in messages %}
                <div class="{{ label }}">{{ message }}</div>
            {% endfor %}
        </div>
    {% endfor %}

    {% block body %}{% endblock %}
    {% block javascripts %}{% endblock %}
</body>
</html>